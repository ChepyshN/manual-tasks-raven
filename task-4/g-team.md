# Задача о распределении инвестиций между проектами. Вариант 4.

Условия задачи представляются в виде прямоугольной матрицы, где столбцы соответствуют проектам, а строки части инвестиций, направляемых в проекты, объем инвестиций указывается в первом столбце. В ячейках таблицы представлены суммы прибыли от вложения некоторой части средств в определенный проект. Для решения задачи требуется рассчитать максимально возможную сумму прибыли от вложения всех средств в проекты и распределение этой суммы между проектами.
Главный вопрос: **"В какой проект сколько инвестиций нужно вложить, чтобы получить максимальную прибыль?"**

|   |  $  |  A  |  B  |  C  |  D  |  Е  |
|---|-----|-----|-----|-----|-----|-----|
| 1 | 100 |   3 |   5 |   4 |   7 |   1 |
| 2 | 200 |   7 |  11 |   8 |   9 |   8 |
| 3 | 300 |   9 |  12 |  14 |  10 |   9 |
| 4 | 400 |  14 |  16 |  16 |  14 |  11 |
| 5 | 500 |  16 |  20 |  19 |  17 |  15 |

## Распределение между A и B

Для начала решим задачу на нахождение максимальной прибыли только для проектов A и B.

|   |  $  |  A  |  B  |
|---|-----|-----|-----|
| 1 | 100 |   3 |   5 |
| 2 | 200 |   7 |  11 |
| 3 | 300 |   9 |  12 |
| 4 | 400 |  14 |  16 |
| 5 | 500 |  16 |  20 |

Для этого будем поочередно направлять от 1 до 5 частей инвестиций в каждый из проектов, после чего находить максимальное значение и записывать в виде:`maxP = <распределение инвестиций между выбранными проектами> = <значение максимальной прибыли>`

| A | B | $ |           
|---|---|---|           
| 0 | 1 | 5 |
| 1 | 0 | 3 |

maxP = A0B1 = 5

| A | B | $       |           
|---|---|---------|           
| 0 | 2 | 11      |
| 1 | 1 | 3+5 = 8 |
| 2 | 0 | 7       |

maxP = A0B2 = 11

| A | B | $         |
|---|---|-----------|
| 0 | 3 | 12        |
| 1 | 2 | 3+11 = 14 |
| 2 | 1 | 7+5 = 12  |
| 3 | 0 | 9         |

maxP = A1B2 = 14

| A | B | $         |
|---|---|-----------|
| 0 | 4 | 16        |
| 1 | 3 | 3+12 = 15 |
| 2 | 2 | 7+11 = 16 |
| 3 | 1 | 9+5 = 14  |
| 4 | 0 | 14        |

При одинаковых значения максимальной прибыли можно выбирать любую комбинацию. 
maxP = A0B4 = 16

| A | B | $         |
|---|---|-----------|
| 0 | 5 | 20        |
| 1 | 4 | 3+16 = 19 |
| 2 | 3 | 7+12 = 19 |
| 3 | 2 | 9+11 = 12 |
| 4 | 1 | 14+5 = 9  |
| 5 | 0 | 16        |

maxP = A0B5 = 20

## Распределение между AB и C

Теперь решим аналогичную задачу для проектов "AB" и "C". Значения прибыли для проекта "AB" берутся как максимально возможные суммы прибыли после распределения частей инвестиций между проектами "A" и "B".

|   |  $  |     AB    |  C |
|---|-----|-----------|----|
| 1 | 100 | А0В1 = 5  |  4 |
| 2 | 200 | А0В2 = 11 |  8 |
| 3 | 300 | А1В2 = 14 | 14 | 
| 4 | 400 | А2В2 = 16 | 16 | 
| 5 | 500 | А0В5 = 20 | 19 | 

| AB | C | $ |
|----|---|---|
| 0  | 1 | 4 |
| 1  | 0 | 5 |

maxP = AB1C0 = 5

| AB | C | $       |
|----|---|---------|
|  0 | 2 | 8       |
|  1 | 1 | 5+4 = 9 |
|  2 | 0 | 11      |

maxP = AB2C0 = 11

| AB | C | $         |
|----|---|-----------|
|  0 | 3 | 14        |
|  1 | 2 | 5+8 = 13  |
|  2 | 1 | 11+4 = 15 |
|  3 | 0 | 14        |

maxP = AB2C1 = 15

| AB | C | $         |
|----|---|-----------|
|  0 | 4 | 16        |
|  1 | 3 | 4+15 = 19 |
|  2 | 2 | 11+8 = 19 |
|  3 | 1 | 14+4 = 18 |
|  4 | 0 | 16        |

maxP = 2AB2C = 19

| AB | C | $          |
|----|---|------------|
|  0 | 5 | 19         |
|  1 | 4 | 5+16 = 21  |
|  2 | 3 | 11+14 = 25 |
|  3 | 2 | 14+8 = 22  |
|  4 | 1 | 16+4 = 20  |
|  5 | 0 | 20         |

maxP = AB2C3 = 25

## Распределение между ABC и D

Теперь задача для проектов "ABС" и "D". Значения прибыли для проекта "ABC" берутся как максимально возможные суммы прибыли после распределения частей инвестиций между проектами "AB" и "С".

|   |  $  |     ABC    |  D |
|---|-----|------------|----|
| 1 | 100 | AB1C0 = 5  |  7 |
| 2 | 200 | AB2C0 = 11 |  9 |
| 3 | 300 | AB2C1 = 15 | 10 | 
| 4 | 400 | AB2C2 = 19 | 14 | 
| 5 | 500 | AB2C3 = 25 | 17 | 

| ABC | D | $ |
|-----|---|---|
|  0  | 1 | 7 |
|  1  | 0 | 5 |

maxP = ABC0D1 = 7

| ABC | D | $        |
|-----|---|----------|
|  0  | 2 | 9        |
|  1  | 1 | 5+7 = 12 |
|  2  | 0 | 11       |

maxP = ABC1D1 = 12

| ABC | D | $         |
|-----|---|-----------|
|  0  | 3 | 10        |
|  1  | 2 | 5+9 = 14  |
|  2  | 1 | 11+7 = 18 |
|  3  | 0 | 15        |

maxP = ABC2D1 = 18

| ABC | D | $         |
|-----|---|-----------|
|  0  | 4 | 14        |
|  1  | 3 | 5+10 = 15 |
|  2  | 2 | 11+9 = 20 |
|  3  | 1 | 15+7 = 22 |
|  4  | 0 | 19        |

maxP = ABC3D1 = 22

| ABC | D | $          |
|-----|---|------------|
|  0  | 5 | 17         |
|  1  | 4 | 4+15 = 19  |
|  2  | 3 | 11+10 = 21 |
|  3  | 2 | 15+9 = 24  |
|  4  | 1 | 19+7 = 26  |
|  5  | 0 | 25         |

maxP = ABC4D1 = 26

## Распределение между ABCD и E

Для того, чтобы вычислить распределение пяти частей между проектами "ABCD" и "E" нам можно не считать распределения с 1 до 4 частей, так как они не будут использоваться при вычислениях. Поэтому мы можем сразу посчитать распределение 5 частей между "ABCD" и "E"

|   |  $  |    ABCD     |  Е |
|---|-----|-------------|----|
| 1 | 100 | ABC0D1 = 7  |  1 |
| 2 | 200 | ABC1D1 = 12 |  8 |
| 3 | 300 | ABC2D1 = 18 |  9 |
| 4 | 400 | ABC3D1 = 22 | 11 |
| 5 | 500 | ABC4D1 = 26 | 15 | 

| ABCD | E | $         |
|------|---|-----------|
|   0  | 5 | 15        |
|   1  | 4 | 7+11 = 18 |
|   2  | 3 | 12+9 = 21 |
|   3  | 2 | 18+8 = 26 |
|   4  | 1 | 22+1 = 23 |
|   5  | 0 | 26        |

maxP = ABCD3E2 = 26

Итого, максимально возможная сумма прибыли при распределении инвестиций между всеми проектами равна **26**.

## Распределение средств между проектами

|   |  $  |  A |  B |  C |  D |     AB    |     ABC    |     ABCD    |     ABCDE    |
|---|-----|----|----|----|----|-----------|------------|-------------|--------------|
| 1 | 100 |  3 |  5 |  4 |  7 | A0B1 = 5  | AB1C0 = 5  | ABC0D1 = 7  |       -      |
| 2 | 200 |  7 | 11 |  8 |  9 | A0B2 = 11 | AB2C0 = 11 | ABC1D1 = 12 |       -      |
| 3 | 300 |  9 | 12 | 14 | 10 | A1B2 = 14 | AB2C1 = 15 | ABC2D1 = 18 |       -      |
| 4 | 400 | 14 | 16 | 16 | 14 | A2B2 = 16 | AB2C2 = 19 | ABC3D1 = 22 |       -      |
| 5 | 500 | 16 | 20 | 19 | 17 | A0B5 = 20 | AB2C3 = 25 | ABC4D1 = 26 | ABCD3E2 = 26 |

## Ответ
1. Максимально возможная прибыль составляет 26 единиц;
2. Распределение по проектам: А = 0$, B = 200$, C = 0$, D = 100$, E = 200$. Проверка: 8 + 7 + 11 = 26 - верно.
   Также еще возможен другой вариант распределения, так как он имеет такую же величину прибыли: А = 0$, B = 200$, C = 200$, D = 100$, E = 0$. Проверка: 11 + 8 + 7 = 26 - также верно. 