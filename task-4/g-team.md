# Задача о распределении инвестиций между проектами. Вариант 4.

В условии задачи дана прямоугольная матрица, где столбцы соответствуют проектам, а строки части инвестиций, направляемых в проекты, объем инвестиций указывается в первом столбце. В ячейках таблицы представлены суммы прибыли от вложения некоторой части средств в определенный проект.

|   |  $  |  A  |  B  |  C  |  D  |  Е  |
|---|-----|-----|-----|-----|-----|-----|
| 1 | 100 |   3 |   5 |   4 |   7 |   1 |
| 2 | 200 |   7 |  11 |   8 |   9 |   8 |
| 3 | 300 |   9 |  12 |  14 |  10 |   9 |
| 4 | 400 |  14 |  16 |  16 |  14 |  11 |
| 5 | 500 |  16 |  20 |  19 |  17 |  15 |

Для решения задачи требуется рассчитать максимально возможную сумму прибыли от вложения всех средств в проекты и распределение этой суммы между проектами.

## Распределение между A и B

Для начала решим задачу на нахождение максимальной прибыли только для проектов A и B.

|   |  $  |  A  |  B  |
|---|-----|-----|-----|
| 1 | 100 |   3 |   5 |
| 2 | 200 |   7 |  11 |
| 3 | 300 |   9 |  12 |
| 4 | 400 |  14 |  16 |
| 5 | 500 |  16 |  20 |

Для этого будем поочередно направлять от 1 до 5 частей инвестиций в каждый из проектов, после чего находить максимальное значение и записывать в виде:`maxP = <комбинация распределения инвестиций по проектам с максимальной прибылью> = <значение максимальной прибыли>`

| A | B | $ |           
|---|---|---|           
| 0 | 1 | 5 |
| 1 | 0 | 3 |

maxP = A0B1 = 5

| A | B | $       |           
|---|---|---------|           
| 0 | 2 | 11      |
| 1 | 1 | 3+5 = 8 |
| 2 | 0 | 7       |

maxP = A0B2 = 8

| A | B | $         |
|---|---|-----------|
| 0 | 3 | 12        |
| 1 | 2 | 3+11 = 14 |
| 2 | 1 | 7+5 = 12  |
| 3 | 0 | 9         |

При одинаковых значения максимальной прибыли, для простоты, будем всегда брать первую комбинацию. 

maxP = A0B3 = 12

| A | B | $         |
|---|---|-----------|
| 0 | 4 | 16        |
| 1 | 3 | 3+12 = 15 |
| 2 | 2 | 7+11 = 16 |
| 3 | 1 | 9+5 = 14  |
| 4 | 0 | 14        |

maxP = A0B4 = 16

| A | B | $           |
|---|---|-------------|
| 0 | 5 | 15          |
| 1 | 4 | 2 + 12 = 14 |
| 2 | 3 | 4 + 10 = 14 |
| 3 | 2 | 4 + 8 = 12  |
| 4 | 1 | 5 + 4 = 9   |
| 5 | 0 | 6           |

maxP = 0A5B = 15

## Распределение между AB и C

Теперь решим аналогичную задачу для проектов "AB" и C. Значения прибыли для проекта "AB" берутся как максимально возможные суммы прибыли после распределения частей инвестиций между проектами A и B.

|   | $   | AB        | C  |
|---|-----|-----------|----|
| 1 | 50  | 0A1B = 4  | 4  |
| 2 | 100 | 0A2B = 8  | 8  |
| 3 | 150 | 0A3B = 10 | 15 | 
| 4 | 200 | 0A4B = 12 | 23 | 
| 5 | 250 | 0A5B = 15 | 42 | 

| AB | C | $ |
|----|---|---|
| 0  | 1 | 4 |
| 1  | 0 | 4 |

maxP = 0AB1C = 4

| AB | C | $         |
|----|---|-----------|
| 0  | 2 | 8         |
| 1  | 1 | 4 + 4 = 8 |
| 2  | 0 | 8         |

maxP = 0AB2C = 8

| AB | C | $          |
|----|---|------------|
| 0  | 3 | 15         |
| 1  | 2 | 4 + 8 = 12 |
| 2  | 1 | 8 + 4 = 12 |
| 3  | 0 | 10         |

maxP = 0AB3C = 15

| AB | C | $           |
|----|---|-------------|
| 0  | 4 | 23          |
| 1  | 3 | 4 + 15 = 19 |
| 2  | 2 | 8 + 8 = 16  |
| 3  | 1 | 10 + 4 = 14 |
| 4  | 0 | 12          |

maxP = 0AB4C = 23

| AB | C | $           |
|----|---|-------------|
| 0  | 5 | 42          |
| 1  | 4 | 4 + 23 = 27 |
| 2  | 3 | 8 + 15 = 23 |
| 3  | 2 | 10 + 8 = 18 |
| 4  | 1 | 12 + 4 = 16 |
| 5  | 0 | 15          |

maxP = 0AB5C = 42

## Распределение между ABC и D

Теперь решим аналогичную задачу для проектов "ABС" и D. Значения прибыли для проекта "ABC" берутся как максимально возможные суммы прибыли после распределения частей инвестиций между проектами "AB" и С.

|   | $   | ABC        | D  |
|---|-----|------------|----|
| 1 | 50  | 0AB1C = 4  | 7  |
| 2 | 100 | 0AB2C = 8  | 12 |
| 3 | 150 | 0AB3C = 15 | 12 | 
| 4 | 200 | 0AB4C = 23 | 15 | 
| 5 | 250 | 0AB5C = 42 | 18 | 

| ABC | D | $ |
|-----|---|---|
| 0   | 1 | 7 |
| 1   | 0 | 4 |

maxP = 0ABC1D = 7

| ABC | D | $          |
|-----|---|------------|
| 0   | 2 | 12         |
| 1   | 1 | 4 + 7 = 11 |
| 2   | 0 | 8          |

maxP = 0ABC2D = 12

| ABC | D | $           |
|-----|---|-------------|
| 0   | 3 | 12          |
| 1   | 2 | 4 + 12 = 16 |
| 2   | 1 | 8 + 7 = 15  |
| 3   | 0 | 15          |

maxP = 1ABC2D = 16

| ABC | D | $           |
|-----|---|-------------|
| 0   | 4 | 15          |
| 1   | 3 | 4 + 12 = 16 |
| 2   | 2 | 8 + 12 = 20 |
| 3   | 1 | 15 + 7 = 22 |
| 4   | 0 | 23          |

maxP = 4ABC0D = 23

| ABC | D | $            |
|-----|---|--------------|
| 0   | 5 | 18           |
| 1   | 4 | 4 + 15 = 19  |
| 2   | 3 | 8 + 12 = 20  |
| 3   | 2 | 15 + 12 = 27 |
| 4   | 1 | 23 + 7 = 30  |
| 5   | 0 | 42           |

maxP = 5ABC0D = 42

|   | $   | ABCD        | 
|---|-----|-------------|
| 1 | 50  | 0ABC1D = 7  | 
| 2 | 100 | 0ABC2D = 12 |
| 3 | 150 | 1ABC2D = 16 |
| 4 | 200 | 4ABC0D = 23 |
| 5 | 250 | 5ABC0D = 42 |

Итого, максимально возможная сумма прибыли при распределении инвестиций между всеми проектами равна `42`.

## Распределение средств между проектами

|   | $   | A | B  | C  | D  | AB        | ABC        | ABCD        |
|---|-----|---|----|----|----|-----------|------------|-------------|
| 1 | 50  | 2 | 4  | 4  | 7  | 0A1B = 4  | 0AB1C = 4  | 0ABC1D = 7  |
| 2 | 100 | 4 | 8  | 8  | 12 | 0A2B = 8  | 0AB2C = 8  | 0ABC2D = 12 |
| 3 | 150 | 4 | 10 | 15 | 12 | 0A3B = 10 | 0AB3C = 15 | 1ABC2D = 16 |
| 4 | 200 | 5 | 12 | 23 | 15 | 0A4B = 12 | 0AB4C = 23 | 4ABC0D = 23 |
| 5 | 250 | 6 | 15 | 42 | 18 | 0A5B = 15 | 0AB5C = 42 | 5ABC0D = 42 |

- 5ABC0D --> D = 0$
- 0AB5C --> C = 250$, B = 0$, A = 0$

Таким образом, для получения максимальной прибыли все средства следует инвестировать в проект `C`.