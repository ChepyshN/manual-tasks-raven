# Задача о разделении процессов. Вариант 3.
### Условие задачи:
Имеется 4 независимых задания и 2 исполнителя, исполнитель 1 с производительностью 10 и исполнитель 2 производительностью 6. Длительность заданий составляет 66, 40, 22, 16.

## Решение
### 1. Найдём минимальное время, за которое исполнители справятся с работой при оптимальном расписании
Для этого сумму длительностей всех работ разделим на сумму производительности исполнителей.
$$  
T_{min} = \frac {66 + 40 + 22 + 16}{10 + 6} = 9
$$ 
### 2. Расставим приоритеты, согласно длительности работ. Затем назначим исполнителей


|              | A  | B  | C   | D  |
|--------------|----|----|-----|----|
| Длительность | 66 | 40 | 22  | 16 | 
| Приоритет    | I  | II | III | IV |
| Исполнитель  | P1 | P2 |     |    |

Мы не можем поставить несколько исполнителей на одну задачу, поэтому на приоритет I ставим только P1, P2 ставим на следующий приоритет.

### 3. Решаем уравнения
В них мы смотрим, в какой момент времени объем оставшейся работы сравняется у каких-либо задач, а значит, будет необходимость пересмотреть приоритеты.  
$$
\begin{align}
    A &= B \\
    66 - 10 * t &= 40 - 6 * t \\
    4*t &= 26 \\
    t &= 6.5
\end{align}
$$

$$
\begin{align}
    B &= C \\
    40 - 6 * t &= 22 \hspace{1.2cm}\\
    6*t &= 18 \\
    t &= 3
\end{align}
$$

Мы видим, что во втором уравнении время меньше, чем в первом, а значит по оставшемуся объему работы задачи B и C сравняются раньше, в момент времени $t = 3$, чем A и B.

### 4. Снова расставляем приоритеты, теперь для момента $t = 3$

|                    | A             | B            | C  | D   |
|--------------------|---------------|--------------|----|-----|
| Длительность t = 0 | 66            | 40           | 22 | 16  | 
| Длительность t = 3 | $(66 - 3*10)$ | $(40 - 3*6)$ |    |     |
|                    | 36            | 22           | 22 | 16  |
| Приоритет          | I             | II           | II | III |
| Исполнитель        | P1            | P2           | P2 |     |
Т.к. оставшееся время для задач B и C сравнялось, мы можем поставить им один приоритет и назначить исполнителя P2 на обе задачи.  
Тогда производительность P2 будет равна $\frac {6}{2} = 3$, время на выполнение $BC = 2$.  

### 5. Снова решаем уравнения
$$
\begin{align}
    A &= BC \\
    36 - 10 * t &= 22 - 3 * t \\
    7*t &= 14 \\
    t &= 2
\end{align}
$$

$$
\begin{align}
    BC &= D \\
    22 - 3 * t &= 16 \hspace{1.2cm}\\
    3*t &= 6 \\
    t &= 2
\end{align}
$$
Время в обоих уравнениях равно двум, следовательно в момент времени $t = 3+2 = 5$ сравняется оставшийся объем работы и оставшееся расписание можно будет составить циклически.
### 6. Составляем диаграмму Ганта
Учитывая итоги 3 и 5 пунктов, составляем оптимальное расписание. До $t = 3$ P1 выполняет A, P2 выполняет B. Затем приоритет B сравнивается с C, поэтому до $t = 5$ P1 продолжает делать A, P2 поочередно выполняет B и C. Т.к. оставшийся объем работы у задач одинаков, до $t = 9$ проставляем циклично.

```mermaid
gantt
    dateFormat DD HH:mm    
    axisFormat %H:%M
    Начало : milestone, m1, 01 00:00, 0h
    section  1
    A         :a1, 01 00:00, 3h
    A         :a2, after a1, 2h
    A         :a3, after a2, 1h
    B         :a4, after a3, 1h
    C         :a5, after a4, 1h
    D         :a6, after a5, 1h
    section  2
    B         :b1, 01 00:00, 3h
    B         :b2, after b1, 1h
    C         :b3, after b2, 1h
    C         :b4, after b3, 1h
    D         :b5, after b4, 1h
    A         :b6, after b5, 1h
    B         :b7, after b6, 1h
    Окончание : milestone, m2, 01 09:00, 0h


